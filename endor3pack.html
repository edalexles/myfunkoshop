<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Endor Three Pack Amazon Eclusive | My Funko Pop Shop</title>
  <style>
    body { font-family: Arial, sans-serif; background: #fafaff; margin: 40px; }
    .container { max-width: 600px; margin: auto; text-align: center; }
    .gallery-img { width: 300px; height: 380px; border-radius: 12px; object-fit: cover; cursor: zoom-in; }
    .gallery-nav { margin-top: 10px; margin-bottom: 20px;}
    .gallery-nav button { font-size: 1.2em; padding: 4px 18px; border-radius: 6px; border: 1px solid #aaa; margin: 0 8px; cursor: pointer; background: #fff; transition: background 0.2s;}
    .gallery-nav button:hover { background: #efefef; }
    .thumbs {margin-top:10px;}
    .thumbs img {width: 50px; height: 60px; object-fit: cover; border-radius: 5px; margin: 0 2px; border: 2px solid #fff; cursor: pointer; transition: border 0.15s;}
    .thumbs img.selected { border: 2px solid #e65a2e; }
    .price { color: #37823b; font-weight: bold; font-size: 1.3em; margin: 16px 0; }
    a { color: #e65a2e; text-decoration: none;}
    a:hover { text-decoration: underline;}
    .back { margin-bottom: 30px; display: block;}
    .box { background: #fff; border: 1px solid #ddd; padding: 18px; border-radius: 10px;}
    #zoom-modal {display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;
      background:rgba(0,0,0,0.6);justify-content:center;align-items:center;z-index:9999;}
    #zoom-image { max-width:90vw; max-height:90vh; border-radius:16px; box-shadow:0 8px 36px #0008; }
    #zoom-close-btn {
      position: absolute; top: 20px; right: 30px; font-size:2em; color:white;
      background: none; border: none; cursor: pointer; z-index: 10001; transition: color 0.1s;
    }
    #zoom-close-btn:hover { color: #e65a2e; }
  </style>
</head>
<body>
  <div class="container">
    <a href="index.html" class="back">← Back to shop</a>
    <div class="box">
      <h1>>Endor Three Pack Amazon Eclusive</h1>
      <!-- Start of Gallery -->
      <img id="main-image" class="gallery-img" src="https://i.imgur.com/7p2MouF.jpeg" alt="Funko Pop" onclick="zoomImage()">
      <div class="gallery-nav">
        <button onclick="prevImage()">&#8592; Prev</button>
        <span id="img-counter">1 / 5</span>
        <button onclick="nextImage()">Next &#8594;</button>
      </div>
      <div class="thumbs" id="thumbs">
        <!-- Thumbnails will appear here -->
      </div>
      <!-- End of Gallery -->
      <p class="price">$20</p>
      <p><b>Condition:</b> Mint in box</p>
      <p><b>Category:</b> Star Wars</p>
      <p><b>Description:</b><br>Iconic Star Wars Funko Pop in pristine condition. A must-have for collectors and fans!</p>
      <p>Email <a href="mailto:your.email@example.com">your.email@example.com</a> if interested.</p>
    </div>
  </div>

  <!-- Zoom modal -->
  <div id="zoom-modal">
    <button id="zoom-close-btn" aria-label="Close" title="Close (ESC)">&#10006;</button>
    <img id="zoom-image" src="" alt="Zoomed Funko"/>
  </div>

  <script>
    var images = [
      "https://i.imgur.com/7p2MouF.jpeg",
      "https://i.imgur.com/R8SfsGz.jpeg",
      "https://i.imgur.com/4s09lOd.jpeg",
      "https://i.imgur.com/oGPuxXM.jpeg",
      "https://i.imgur.com/zFPoUq4.jpeg"
    ];
    var current = 0;

    function setUpThumbs() {
      var thumbsDiv = document.getElementById("thumbs");
      thumbsDiv.innerHTML = '';
      images.forEach(function(img, idx){
        var el = document.createElement("img");
        el.src = img;
        el.className = idx === current ? "selected" : "";
        el.onclick = function(){ current=idx; updateGallery(); };
        thumbsDiv.appendChild(el);
      });
    }

    function updateGallery() {
      document.getElementById('main-image').src = images[current];
      document.getElementById('img-counter').textContent = (current+1) + " / " + images.length;
      var thumbImgs = document.querySelectorAll('.thumbs img');
      thumbImgs.forEach(function(img, idx) {
        img.className = idx === current ? "selected" : "";
      });
    }

    function nextImage() {
      current = (current + 1) % images.length;
      updateGallery();
    }
    function prevImage() {
      current = (current - 1 + images.length) % images.length;
      updateGallery();
    }

    setUpThumbs();
    updateGallery();

    // -- ZOOM FUNCTIONALITY STARTS HERE --
    function zoomImage() {
      var img = document.getElementById('main-image').src;
      document.getElementById('zoom-image').src = img;
      document.getElementById('zoom-modal').style.display = 'flex';
    }

    // Click ESC -> close modal
    document.addEventListener('keydown', function(e) {
      if (e.key === "Escape") {
        document.getElementById('zoom-modal').style.display = 'none';
      }
    });

    // Click ✕ close button -> close modal
    document.getElementById('zoom-close-btn').onclick = function (e) {
      e.stopPropagation(); // Prevent modal background from also firing
      document.getElementById('zoom-modal').style.display = 'none';
    };

    // Click outside the image (modal background) -> close modal
    document.getElementById('zoom-modal').onclick = function(e) {
      if (e.target.id === "zoom-modal") {
        document.getElementById('zoom-modal').style.display = 'none';
      }
    };
    // -- ZOOM FUNCTIONALITY ENDS HERE --
  </script>
</body>
</html>
